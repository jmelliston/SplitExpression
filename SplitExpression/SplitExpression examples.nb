(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     87614,       2237]
NotebookOptionsPosition[     78912,       1980]
NotebookOutlinePosition[     80934,       2033]
CellTagsIndexPosition[     80891,       2030]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["SplitExpression examples", "Title",
 CellChangeTimes->{{3.614065866263702*^9, 3.614065874362432*^9}}],

Cell["\<\
This is the example file for the SplitExpression package. 
The SplitExpression package provides the functionality to split index \
summations, including allowing easy definition of splitting rules for \
tensors.
This package is based on the xTensor package, part of the xAct suite.\
\>", "Text",
 CellChangeTimes->{{3.61406602807123*^9, 3.614066085333939*^9}, {
   3.617611102519432*^9, 3.617611218896435*^9}, 3.6396799462241907`*^9}],

Cell[BoxData[
 RowBox[{"<<", " ", "xAct`SplitExpression`"}]], "Input",
 CellChangeTimes->{{3.612251099044189*^9, 3.612251113906559*^9}, {
   3.6122512424398623`*^9, 3.612251242606992*^9}, {3.612251298462688*^9, 
   3.612251303895104*^9}, {3.612765089363844*^9, 3.61276509102744*^9}, 
   3.612767715821713*^9, {3.612767751100121*^9, 3.612767751980509*^9}, {
   3.612850768304447*^9, 3.612850780210713*^9}, {3.612854239338798*^9, 
   3.612854249226185*^9}, {3.612866897892571*^9, 3.612866904132704*^9}, {
   3.612867437045236*^9, 3.612867438529931*^9}, {3.613192441505775*^9, 
   3.613192447633793*^9}, {3.613298469387096*^9, 3.613298471888612*^9}, {
   3.613383341587882*^9, 3.613383344230342*^9}, {3.613474037402286*^9, 
   3.613474056149808*^9}, {3.613708631004551*^9, 3.613708633578704*^9}, {
   3.6140659957175293`*^9, 3.614065995976239*^9}, 3.614066352142624*^9, {
   3.6140664082022467`*^9, 3.6140664082035646`*^9}, {3.614068132642098*^9, 
   3.614068140213666*^9}, 3.617611239789815*^9, {3.639679978076071*^9, 
   3.639679979026722*^9}}],

Cell["\<\
Click on the arrows on the left hand side to open/close the various sections \
of this file.\
\>", "Text",
 CellChangeTimes->{{3.618721380726145*^9, 3.618722004441025*^9}, {
  3.639680023213428*^9, 3.639680194505391*^9}, {3.640630300263143*^9, 
  3.64063037254209*^9}, {3.640630414537242*^9, 3.640630505518303*^9}, {
  3.640630550964726*^9, 3.64063065892509*^9}, {3.64063070372726*^9, 
  3.640630705469449*^9}, {3.64063241833154*^9, 3.6406324560429983`*^9}}],

Cell[CellGroupData[{

Cell["Content of this examples file", "Section",
 CellChangeTimes->{{3.6187309794909*^9, 3.618730989480083*^9}}],

Cell["\<\
This workbook provides five examples to illustrate how the package works. \
These examples are ordered to aid the reader in understanding how the package \
works behind the scenes. \
\>", "Text",
 CellChangeTimes->{{3.618721380726145*^9, 3.618722004441025*^9}, {
  3.639680023213428*^9, 3.639680194505391*^9}, {3.640630300263143*^9, 
  3.64063037254209*^9}, {3.640630414537242*^9, 3.640630505518303*^9}, {
  3.640630550964726*^9, 3.64063065892509*^9}, {3.64063070372726*^9, 
  3.640630705469449*^9}, {3.640718197504965*^9, 3.6407182252009706`*^9}}],

Cell[CellGroupData[{

Cell["Detailed Description of the SplitExpression package", "Subsection",
 CellChangeTimes->{{3.6140661182525873`*^9, 3.614066128781103*^9}}],

Cell[BoxData["$SplitExpressionDescription"], "Input",
 CellChangeTimes->{{3.617612237631247*^9, 3.617612244375989*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["10=7+3 decomposition ", "Section",
 CellChangeTimes->{{3.613798926172576*^9, 3.613798930945464*^9}, {
   3.61406679651467*^9, 3.614066797817809*^9}, {3.614319981892068*^9, 
   3.614319983984006*^9}, {3.618721214517047*^9, 3.6187213202165318`*^9}, 
   3.6187220134165583`*^9}],

Cell["\<\
Here we take a tensorial expression and split its index summations into two \
sub-summations, and for now we avoid leaving single components. We \
arbitrarily decide to do a 10=7+3 decomposition.\
\>", "Text",
 CellChangeTimes->{{3.6406324783587513`*^9, 3.640632598599387*^9}}],

Cell[CellGroupData[{

Cell["Define quantities", "Subsection",
 CellChangeTimes->{{3.6176124544998617`*^9, 3.6176124597072678`*^9}}],

Cell[TextData[{
 "This example splits Greek indices defined on a 10-dimensional manifold ",
 StyleBox["M10", "Input"],
 " into a sum of lowercase Roman indices defined on a 3-dimensional manifold ",
 StyleBox["M3", "Input"],
 " and uppercase Roman indices defined on a 7-dimensional manifold ",
 StyleBox["M7", "Input"],
 ". The metrics on the spaces are ",
 StyleBox["g10", "Input"],
 ", ",
 StyleBox["g3", "Input"],
 " and ",
 StyleBox["g7", "Input"],
 " and their respective convariant derivatives are ",
 StyleBox["CD10", "Input"],
 ", ",
 StyleBox["CD3", "Input"],
 " and ",
 StyleBox["CD7", "Input"],
 "."
}], "Text",
 CellChangeTimes->{{3.614066810813181*^9, 3.614066906751439*^9}, {
   3.6143199896404467`*^9, 3.614320012439322*^9}, {3.618722034533229*^9, 
   3.618722065691684*^9}, {3.618722340564597*^9, 3.618722344236361*^9}, 
   3.618722414788327*^9, {3.618724016069359*^9, 3.618724059429874*^9}, {
   3.640632676445264*^9, 3.6406327515801477`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"M10", ",", "10", ",", 
    RowBox[{"{", 
     RowBox[{
     "\[Mu]", ",", "\[Nu]", ",", "\[Gamma]", ",", "\[Lambda]", ",", 
      "\[Sigma]", ",", "\[Eta]", ",", "\[Kappa]", ",", "\[Omega]", ",", 
      "\[Tau]", ",", "\[Chi]"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{"1", ",", 
    RowBox[{"g10", "[", 
     RowBox[{
      RowBox[{"-", "\[Mu]"}], ",", 
      RowBox[{"-", "\[Nu]"}]}], "]"}], ",", "CD10", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<;\>\"", ",", "\"\<\[Del]\>\""}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"M3", ",", "3", ",", 
    RowBox[{"{", 
     RowBox[{
     "i", ",", "j", ",", "k", ",", "l", ",", "m", ",", "p", ",", "q", ",", 
      "r", ",", "s", ",", "u"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{"1", ",", 
    RowBox[{"g3", "[", 
     RowBox[{
      RowBox[{"-", "i"}], ",", 
      RowBox[{"-", "j"}]}], "]"}], ",", "CD3", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<|\>\"", ",", "\"\<\[ScriptCapitalD]\>\""}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"M7", ",", "7", ",", 
    RowBox[{"{", 
     RowBox[{"A", ",", "B", ",", "F", ",", "J", ",", "L"}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{"1", ",", 
    RowBox[{"g7", "[", 
     RowBox[{
      RowBox[{"-", "A"}], ",", 
      RowBox[{"-", "B"}]}], "]"}], ",", "CD7", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<|\>\"", ",", "\"\<\[ScriptCapitalD]\>\""}], "}"}]}], "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.613202571131688*^9, 3.613202712753284*^9}, {
   3.613202877593096*^9, 3.6132028780228987`*^9}, {3.613202974528474*^9, 
   3.61320297466222*^9}, {3.6132035049214697`*^9, 3.613203505408415*^9}, {
   3.6137336825776052`*^9, 3.6137336872693644`*^9}, {3.6143200143221903`*^9, 
   3.6143200286656017`*^9}, 3.614432020169859*^9, {3.618722069696598*^9, 
   3.618722095189087*^9}, {3.6187240713012867`*^9, 3.618724136284483*^9}}],

Cell["\<\
Define the splitting of this space, and call this splitting MySplitting\
\>", "Text",
 CellChangeTimes->{{3.6140669264178553`*^9, 3.614066933301381*^9}, {
  3.614066967197548*^9, 3.614066971753852*^9}}],

Cell[BoxData[
 RowBox[{"DefSplitting", "[", 
  RowBox[{"MySplitting", ",", 
   RowBox[{"M10", "->", 
    RowBox[{"{", 
     RowBox[{"M3", ",", "M7"}], "}"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.613202748341289*^9, 3.613202782046693*^9}, {
  3.61373369680919*^9, 3.613733753848938*^9}, {3.614066974094987*^9, 
  3.6140669753434772`*^9}, {3.614320055249116*^9, 3.6143200625813932`*^9}, {
  3.6187221079119864`*^9, 3.618722112071622*^9}}],

Cell["\<\
We need a tensorial expression to split. Let us define a scalar field and \
then we can split its d\[CloseCurlyQuote]Alembertian:\
\>", "Text",
 CellChangeTimes->{{3.6140669810590887`*^9, 3.6140670172825527`*^9}, {
  3.614067063883383*^9, 3.614067098090969*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"\[Phi]", "[", "]"}], ",", 
    RowBox[{"{", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"dAlembertian", "=", 
  RowBox[{
   RowBox[{"CD10", "[", 
    RowBox[{"-", "\[Mu]"}], "]"}], "@", 
   RowBox[{
    RowBox[{"CD10", "[", "\[Mu]", "]"}], "@", 
    RowBox[{"\[Phi]", "[", "]"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.61320300220501*^9, 3.613203022867618*^9}, {
  3.614067020321562*^9, 3.614067039131361*^9}, {3.614067071141827*^9, 
  3.6140670729828033`*^9}, {3.6143200813452053`*^9, 3.614320092463976*^9}, {
  3.6187221186103983`*^9, 3.6187221222422256`*^9}, {3.6187224696431217`*^9, 
  3.618722470097517*^9}, {3.640632861683504*^9, 3.6406328991199512`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Make the splitting", "Subsection",
 CellChangeTimes->{{3.61761247036703*^9, 3.617612472485697*^9}}],

Cell[TextData[{
 "The splitting is implemented by the SplitExpression function. The output \
from this will look horrible (but bear with it, this is only temporary) \
because hidden within the d\[CloseCurlyQuote]Alembertian is the metric ",
 StyleBox["g10", "Input"],
 " and this has been split. "
}], "Text",
 CellChangeTimes->{{3.614067112311254*^9, 3.6140672507083673`*^9}, {
   3.618722486174354*^9, 3.6187226621595497`*^9}, {3.6187227228008823`*^9, 
   3.618722807047392*^9}, {3.640632940014241*^9, 3.6406332681551323`*^9}, 
   3.6406333182327833`*^9}],

Cell[BoxData[
 RowBox[{"SplitdAlembertian", "=", 
  RowBox[{
   RowBox[{"SplitExpression", "[", "MySplitting", "]"}], "[", "dAlembertian", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.613202998338477*^9, 3.613203073873287*^9}, {
  3.6137338013826523`*^9, 3.61373381103312*^9}, {3.614067104819906*^9, 
  3.614067110388647*^9}, {3.614067288352159*^9, 3.614067296992949*^9}, {
  3.6187230489197693`*^9, 3.618723069075655*^9}, {3.618723627546466*^9, 
  3.618723629113552*^9}, {3.618724169689954*^9, 3.618724179706756*^9}}],

Cell[TextData[{
 "The tensors above such as ",
 StyleBox["g\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\[FormalCapitalM]\
M7", "Input"],
 " are automatically generated by the SplitExpression function. The name is a \
precise record of where this term comes from which can be read as ",
 StyleBox["g\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\[FormalCapitalM]\
M7", "Input"],
 " = \[OpenCurlyDoubleQuote]Tensor ",
 StyleBox["g", "Input"],
 ", split by ",
 StyleBox["MySplitting", "Input"],
 ", with its first index in the tangent space of the manifold ",
 StyleBox["M3", "Input"],
 " and second index in the tangent space of the manifold ",
 StyleBox["M7", "Input"],
 ".\[CloseCurlyDoubleQuote]\nOne can therefore write the decomposition \
MySplitting in a pictorial way as"
}], "Text",
 CellChangeTimes->{{3.618722824998866*^9, 3.618723045100099*^9}, {
  3.618723082926983*^9, 3.618723105083068*^9}, {3.618723311241704*^9, 
  3.61872331300171*^9}, {3.6187234634617443`*^9, 3.6187234683436317`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"g10", "\[Rule]", 
   TagBox[
    RowBox[{"(", "\[NoBreak]", GridBox[{
       {"g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\[FormalCapitalM]\
M3", "g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\[FormalCapitalM]M7"},\

       {"g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M7\[FormalCapitalM]\
M3", "g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M7\[FormalCapitalM]M7"}
      },
      GridBoxAlignment->{
       "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, 
        "Rows" -> {{Baseline}}, "RowsIndexed" -> {}},
      GridBoxSpacings->{"Columns" -> {
          Offset[0.27999999999999997`], {
           Offset[0.7]}, 
          Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
          Offset[0.2], {
           Offset[0.4]}, 
          Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
    Function[BoxForm`e$, 
     MatrixForm[BoxForm`e$]]]}], ";"}]], "Input",
 CellChangeTimes->{{3.6187242215633802`*^9, 3.6187242471516647`*^9}, 
   3.63989041667457*^9}],

Cell[TextData[{
 "A subtle point is the nature of the metrics on the 3 and 7 dimensional \
spaces. We have defined these as ",
 StyleBox["g3", "Input"],
 " and ",
 StyleBox["g7", "Input"],
 ", but we have not specified what these are. For particularly simple \
topologies, one might be able to identify ",
 StyleBox["g3 = g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\
\[FormalCapitalM]M3", "Input"],
 " and ",
 StyleBox["g7 = g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M7\
\[FormalCapitalM]M7", "Input"],
 ", but this is far from general and is therefore not assumed by default. "
}], "Text",
 CellChangeTimes->{{3.6187246659248447`*^9, 3.618724668702877*^9}, {
  3.6187255077498302`*^9, 3.61872551082161*^9}}],

Cell[TextData[{
 "The problem with the output given in ",
 StyleBox["SplitdAlembertian", "Input"],
 " is that it is ugly. The SplitExpression package therefore provides the \
capability to rewrite these \[OpenCurlyDoubleQuote]default nomenclature\
\[CloseCurlyDoubleQuote] tensors in terms of other user-defined tensors in a \
totally general way. We now show how this is done."
}], "Text",
 CellChangeTimes->{{3.6187233719062243`*^9, 3.618723444679098*^9}, {
  3.6187234778439217`*^9, 3.618723738938196*^9}, {3.618724257742846*^9, 
  3.6187243795732307`*^9}, {3.618724415610271*^9, 3.618724664127743*^9}, {
  3.6187253040893*^9, 3.618725409658252*^9}, {3.64063340582557*^9, 
  3.6406334106975727`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Define SplittingRules", "Subsection",
 CellChangeTimes->{{3.61761271374148*^9, 3.617612720046236*^9}}],

Cell[TextData[{
 "Let us consider an easy case where the metric decomposition is simple (we \
shall later consider a more complex case in the form of the ADM \
decomposition). \nLet us prescribe that ",
 StyleBox["g3 = g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M3\
\[FormalCapitalM]M3", "Input"],
 " and ",
 StyleBox["g7 = g10\[FormalCapitalS]MySplitting\[FormalCapitalM]M7\
\[FormalCapitalM]M7", "Input"],
 " and that the off-diagonal terms in the decomposition of ",
 StyleBox["g10", "Input"],
 " are zero.\nWe can pass this information into the code using the \
SplittingRules function as follows, where minus signs indicate covariant \
components:"
}], "Text",
 CellChangeTimes->{{3.613807241723505*^9, 3.613807329757348*^9}, {
  3.613807429547227*^9, 3.613807483297422*^9}, {3.613808075835829*^9, 
  3.61380807660387*^9}, {3.613808608272753*^9, 3.613808748131733*^9}, {
  3.6138088222350607`*^9, 3.613808949151322*^9}, {3.6139058000062113`*^9, 
  3.6139058211333103`*^9}, {3.6187254283750772`*^9, 3.618725714122322*^9}, {
  3.618725843916264*^9, 3.618725845987928*^9}, {3.618726111931456*^9, 
  3.618726117077558*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplittingRules", "[", 
   RowBox[{"MySplitting", ",", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "j"}]}], "]"}], "\[Rule]", 
       RowBox[{"g3", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "j"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "A"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{
         RowBox[{"-", "A"}], ",", 
         RowBox[{"-", "i"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{
         RowBox[{"-", "A"}], ",", 
         RowBox[{"-", "B"}]}], "]"}], "\[Rule]", 
       RowBox[{"g7", "[", 
        RowBox[{
         RowBox[{"-", "A"}], ",", 
         RowBox[{"-", "B"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{"i", ",", "j"}], "]"}], "\[Rule]", 
       RowBox[{"g3", "[", 
        RowBox[{"i", ",", "j"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{"i", ",", "A"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{"A", ",", "i"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g10", "[", 
        RowBox[{"A", ",", "B"}], "]"}], "\[Rule]", 
       RowBox[{"g7", "[", 
        RowBox[{"A", ",", "B"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}], 
   "]"}], ";"}]], "Input",
 CellChangeTimes->{
  3.613807050886887*^9, {3.613807261040208*^9, 3.613807265161068*^9}, {
   3.613807489180245*^9, 3.6138074909332438`*^9}, {3.613807627394459*^9, 
   3.613807681950817*^9}, {3.6138077250467377`*^9, 3.61380798155184*^9}, {
   3.613808201283993*^9, 3.613808351304895*^9}, {3.613808498640134*^9, 
   3.61380856017342*^9}, {3.613808774423984*^9, 3.6138087966859703`*^9}, {
   3.613808969370741*^9, 3.6138089735062513`*^9}, 3.61380908261521*^9, 
   3.613815794439968*^9, {3.6138171724871063`*^9, 3.613817225383152*^9}, {
   3.613817496279002*^9, 3.6138175634440517`*^9}, {3.6138176280912867`*^9, 
   3.6138176303228283`*^9}, {3.613914226545473*^9, 3.61391423942022*^9}, {
   3.6186462146341753`*^9, 3.618646216097464*^9}, {3.618725724818859*^9, 
   3.618725835116951*^9}}],

Cell[TextData[{
 "Behind the scenes, this function has now defined and populated the variable \
",
 StyleBox["$SplittingRules[MySplitting]", "Input"],
 " with the above rules rewritten in the required format for use in tensorial \
substitutions:"
}], "Text",
 CellChangeTimes->{{3.614068912477507*^9, 3.614068974521154*^9}, {
  3.61761279795191*^9, 3.617612841839447*^9}, {3.61872587112853*^9, 
  3.618725983499598*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$SplittingRules", "[", "MySplitting", "]"}], "//", 
  "ColumnForm"}]], "Input",
 CellChangeTimes->{{3.61406890663745*^9, 3.614068910435873*^9}, {
  3.618725946750701*^9, 3.618725958133466*^9}}],

Cell["\<\
For a general tensor that we are decomposing, we need only define the \
splitting rules for its indices when they are in their \
\[OpenCurlyDoubleQuote]natural position\[CloseCurlyDoubleQuote], which is the \
up/down position of the indices at definition time. Metrics, if defined, are \
an exception to this rule and we must define both the contravariant and the \
covariant components.\
\>", "Text",
 CellChangeTimes->{
  3.618725860447228*^9, {3.618725995405809*^9, 3.618726125215776*^9}}],

Cell["\<\
We can apply these SplittingRules using the UseSplittingRules function:\
\>", "Text",
 CellChangeTimes->{{3.6187261699121304`*^9, 3.618726289045928*^9}, {
  3.640633834363022*^9, 3.6406338522054033`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"UseSplittingRules", "[", "MySplitting", "]"}], "[", 
  "SplitdAlembertian", "]"}]], "Input",
 CellChangeTimes->{{3.618726290875145*^9, 3.618726337008943*^9}, {
   3.6187263861855097`*^9, 3.6187264713446198`*^9}, {3.61872650169949*^9, 
   3.618726502091401*^9}, 3.64063361905175*^9}],

Cell["\<\
Note that partial derivatives of the metrics are rife. This is expected \
because we have not made any decisions about how these metrics transform \
under partial derivatives. \
\>", "Text",
 CellChangeTimes->{{3.618726537064801*^9, 3.6187265768893633`*^9}, {
  3.618726609765616*^9, 3.6187266934620647`*^9}, {3.618726943442067*^9, 
  3.618726946036104*^9}}],

Cell["\<\
The function SplitExpression will automatically use any SplittingRules that \
are defined. This means that if the user provides splitting rules before \
making the splitting then the default nomencalture tensors are never seen, \
which is much nicer. For example, since these rules are now defined, the \
result is SplitExpression is much nicer:\
\>", "Text",
 CellChangeTimes->{{3.640633796972169*^9, 3.640633926323312*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitExpression", "[", "MySplitting", "]"}], "[", "dAlembertian", 
  "]"}]], "Input",
 CellChangeTimes->{{3.640633772486981*^9, 3.640633777355932*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Clean-up memory", "Subsection",
 CellChangeTimes->{{3.614067526019021*^9, 3.6140675302374277`*^9}}],

Cell["\<\
Before the clean up we can see the splittings that are defined:\
\>", "Text",
 CellChangeTimes->{{3.614067533150494*^9, 3.61406754261165*^9}}],

Cell[BoxData["$Splittings"], "Input",
 CellChangeTimes->{{3.614067544467155*^9, 3.614067545800927*^9}}],

Cell["Undefine the splitting as follows:", "Text",
 CellChangeTimes->{{3.614067691156633*^9, 3.6140677010229607`*^9}}],

Cell[BoxData[
 RowBox[{"UndefSplitting", "[", "MySplitting", "]"}]], "Input",
 CellChangeTimes->{{3.613912815454331*^9, 3.6139128163145723`*^9}, {
  3.614067413867996*^9, 3.614067415211548*^9}}],

Cell["Check that the splitting is no longer defined:", "Text",
 CellChangeTimes->{{3.614067710046542*^9, 3.614067717368846*^9}}],

Cell[BoxData["$Splittings"], "Input"],

Cell["\<\
Remove the variables used, undefine the tensor \[Phi], metric g and manifolds \
used:\
\>", "Text",
 CellChangeTimes->{{3.614067729542787*^9, 3.6140677481375523`*^9}, {
  3.614067809574651*^9, 3.614067814085092*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Remove", "[", "dAlembertian", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Remove", "[", "SplitdAlembertian", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefTensor", "[", "\[Phi]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g10", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g3", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g7", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "M10", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "M3", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "M7", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.613909090126219*^9, 3.6139091224683037`*^9}, {
   3.6139091787264833`*^9, 3.613909267480611*^9}, 3.6139100672327843`*^9, 
   3.613911220691918*^9, {3.613912802820603*^9, 3.61391289113894*^9}, {
   3.614067751401648*^9, 3.6140677542925262`*^9}, {3.6140678165734453`*^9, 
   3.614067830129294*^9}, {3.614320231061821*^9, 3.614320236453288*^9}, {
   3.618730929151284*^9, 3.61873094328163*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["ADM decomposition", "Section",
 CellChangeTimes->{{3.613733886242364*^9, 3.6137338931958723`*^9}, {
  3.6139057230695887`*^9, 3.613905747311281*^9}, {3.6186461669563093`*^9, 
  3.618646167531184*^9}}],

Cell["\<\
Now we do a more familiar 3+1 example, with a non-trivial implementation of \
the function SplitRules. This example also serves to show how SplitExpression \
deals with indices that are isolated as individual components, where \
parameters are used instead of indices to achieve simpler and better looking \
results.\
\>", "Text",
 CellChangeTimes->{{3.614068707289847*^9, 3.614068732038991*^9}, {
  3.6176125045168*^9, 3.617612519727281*^9}, {3.618731048516356*^9, 
  3.618731062957111*^9}, {3.640634019246572*^9, 3.6406340954358664`*^9}, {
  3.6407149891137323`*^9, 3.640715036950017*^9}}],

Cell[CellGroupData[{

Cell["Define quantities", "Subsection",
 CellChangeTimes->{{3.6176125281853113`*^9, 3.6176125306736393`*^9}}],

Cell["Define SpaceTime manifold and metric", "Text",
 CellChangeTimes->{{3.613806221313787*^9, 3.613806232663164*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"MSpaceTime", ",", "4", ",", 
    RowBox[{"{", 
     RowBox[{
     "\[Mu]", ",", "\[Nu]", ",", "\[Gamma]", ",", "\[Lambda]", ",", 
      "\[Sigma]", ",", "\[Eta]", ",", "\[Kappa]", ",", "\[Omega]", ",", 
      "\[Tau]", ",", "\[Chi]"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{
    RowBox[{"-", "1"}], ",", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "\[Mu]"}], ",", 
      RowBox[{"-", "\[Nu]"}]}], "]"}], ",", "CDSpaceTime", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<;\>\"", ",", "\"\<\[Del]\>\""}], "}"}]}], "]"}], 
  ";"}]}], "Input",
 CellGroupingRules->{GroupTogetherGrouping, 10000.},
 CellChangeTimes->{{3.610444654699123*^9, 3.610444655034525*^9}, {
   3.610444793589471*^9, 3.6104448011241407`*^9}, 3.6104463407408524`*^9, {
   3.61044652723118*^9, 3.6104465277011423`*^9}, {3.6104465588433323`*^9, 
   3.610446558991066*^9}, {3.610446957992519*^9, 3.610446958823058*^9}, {
   3.610475431752056*^9, 3.61047543514426*^9}, 3.610687084953088*^9, 
   3.610687158438498*^9, {3.6106874183250523`*^9, 3.6106874248922243`*^9}, {
   3.610691672345491*^9, 3.6106916727593403`*^9}, {3.610696446595807*^9, 
   3.610696448802209*^9}, {3.610796362625431*^9, 3.610796362809555*^9}, {
   3.610869794265049*^9, 3.610869806553191*^9}, {3.61087914868085*^9, 
   3.610879150842165*^9}, 3.61087919896632*^9, {3.610879407377129*^9, 
   3.610879410023328*^9}, {3.6108794470240383`*^9, 3.6108794552173233`*^9}, {
   3.610879503126814*^9, 3.610879541037744*^9}, {3.6108797233412237`*^9, 
   3.6108797340456257`*^9}, 3.6108797713618107`*^9, {3.610879803949979*^9, 
   3.610879821440949*^9}, {3.610880017604499*^9, 3.610880024090913*^9}, {
   3.610880196657503*^9, 3.610880197365299*^9}, 3.610880441306204*^9, {
   3.61088376219013*^9, 3.610883764043541*^9}, {3.611563097239085*^9, 
   3.6115631120658283`*^9}, {3.6115633219926157`*^9, 
   3.6115633517709713`*^9}, {3.611563383080575*^9, 3.611563401924776*^9}, {
   3.611563497745269*^9, 3.611563498405755*^9}, {3.611563762780425*^9, 
   3.6115637628941393`*^9}, {3.611564842192218*^9, 3.611564844437868*^9}, {
   3.6116420850584097`*^9, 3.61164209720807*^9}, 3.6116425101492653`*^9, {
   3.611642865151023*^9, 3.611642916846015*^9}, {3.611642954004644*^9, 
   3.6116429819604816`*^9}, {3.611643117445116*^9, 3.6116431860216093`*^9}, {
   3.611769994388571*^9, 3.611770003500546*^9}, {3.611770420245574*^9, 
   3.6117704204249907`*^9}, {3.612854730529891*^9, 3.61285476021777*^9}, {
   3.612856658249215*^9, 3.612856658525763*^9}, 3.6128568094164267`*^9, {
   3.61285684889299*^9, 3.612856851590908*^9}, {3.612856886164219*^9, 
   3.612856887422983*^9}, {3.6128569362599773`*^9, 3.612856936494462*^9}, {
   3.612856966781843*^9, 3.612856971426586*^9}, {3.612861504015131*^9, 
   3.6128615287532797`*^9}, {3.612861923356778*^9, 3.612861951706781*^9}, {
   3.612862037171875*^9, 3.612862076376874*^9}, {3.612862116272217*^9, 
   3.61286211719354*^9}, 3.612862194279748*^9, {3.612862227534793*^9, 
   3.612862228614894*^9}, {3.6128622880703983`*^9, 3.612862317589611*^9}, {
   3.612866916362679*^9, 3.612866925622261*^9}, {3.6128674227593603`*^9, 
   3.612867424580407*^9}, {3.61287682160592*^9, 3.6128768302679873`*^9}, {
   3.613294860755452*^9, 3.613294869547503*^9}, {3.613294958066904*^9, 
   3.613294958355242*^9}, {3.613296199737544*^9, 3.613296214482554*^9}, {
   3.6137088986814404`*^9, 3.6137088990811987`*^9}, {3.61380621432935*^9, 
   3.613806216968952*^9}, {3.613807349120555*^9, 3.613807372625387*^9}}],

Cell["Define spatial manifold and metric, and the parameter Time.", "Text",
 CellChangeTimes->{{3.613806239926983*^9, 3.613806254390689*^9}, {
  3.614066745415875*^9, 3.6140667461466417`*^9}, {3.618720635583378*^9, 
  3.618720638113407*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"MSpace", ",", "3", ",", 
    RowBox[{"{", 
     RowBox[{
     "i", ",", "j", ",", "k", ",", "l", ",", "m", ",", "p", ",", "q", ",", 
      "r", ",", "s", ",", "u"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{"1", ",", 
    RowBox[{"h", "[", 
     RowBox[{
      RowBox[{"-", "i"}], ",", 
      RowBox[{"-", "j"}]}], "]"}], ",", "CDSpace", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<|\>\"", ",", "\"\<\[ScriptCapitalD]\>\""}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", 
   RowBox[{"Time", ",", 
    RowBox[{"PrintAs", "\[Rule]", "\"\<t\>\""}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.61329575407197*^9, 3.613295765544623*^9}, {
  3.6132963031216993`*^9, 3.61329630733867*^9}, {3.613296418893894*^9, 
  3.613296460064371*^9}, {3.6132965117524137`*^9, 3.613296511976832*^9}, {
  3.61329669577199*^9, 3.6132967265386667`*^9}, {3.613297845772881*^9, 
  3.613297849781928*^9}, {3.613384029771347*^9, 3.61338406535513*^9}}],

Cell["\<\
Redefine existing tensors to be dependent on Time. In general, any tensors \
being split must be assigned dependency of all parameters involved in the \
split before the split is done.\
\>", "Text",
 CellChangeTimes->{{3.618720641849351*^9, 3.618720659453815*^9}, {
  3.618720860143066*^9, 3.618720861391464*^9}, {3.64063416820695*^9, 
  3.640634276799616*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"AddTensorDependencies", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"g", ",", "h"}], "}"}], ",", 
    RowBox[{"{", "Time", "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.618720864258828*^9, 3.618720878684794*^9}}],

Cell["\<\
Use DefSplitting to define ADM as the 3+1 splitting of spacetime.\
\>", "Text",
 CellChangeTimes->{{3.6138062590622168`*^9, 3.61380627356602*^9}}],

Cell[BoxData[
 RowBox[{"DefSplitting", "[", 
  RowBox[{"ADM", ",", 
   RowBox[{"MSpaceTime", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"Time", ",", "MSpace"}], "}"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6128547988026648`*^9, 3.612854801085103*^9}, {
   3.612855099583138*^9, 3.612855133321451*^9}, {3.612857052326602*^9, 
   3.6128570555191793`*^9}, {3.612857200220907*^9, 3.6128572130188217`*^9}, {
   3.6128613654130917`*^9, 3.6128613709481487`*^9}, {3.6128614039663897`*^9, 
   3.612861486609529*^9}, {3.612861544582963*^9, 3.612861622307371*^9}, {
   3.6128617015861998`*^9, 3.612861704984005*^9}, {3.612861957420877*^9, 
   3.61286199323982*^9}, 3.612862693891141*^9, 3.612867475272789*^9, {
   3.613220381818453*^9, 3.613220406554969*^9}, {3.613221673113752*^9, 
   3.6132216740814867`*^9}, {3.613283030389361*^9, 3.61328307912773*^9}, {
   3.6132831309905252`*^9, 3.613283131496312*^9}, 3.613283199458034*^9, {
   3.6132832474056597`*^9, 3.613283247924097*^9}, {3.613283354584341*^9, 
   3.613283355309341*^9}, {3.6132836282402353`*^9, 3.6132836283302507`*^9}, {
   3.61328366809881*^9, 3.613283695886343*^9}, 3.6132838407074547`*^9, {
   3.613284015217249*^9, 3.6132840161187477`*^9}, {3.613295197416786*^9, 
   3.613295219776362*^9}, {3.613295276986973*^9, 3.613295291435515*^9}, {
   3.613295834766409*^9, 3.613295838087079*^9}, {3.6132963849357357`*^9, 
   3.613296412782099*^9}, {3.613297945825329*^9, 3.613297998045918*^9}, {
   3.613298043498917*^9, 3.613298045187788*^9}, {3.613298326225999*^9, 
   3.613298331242752*^9}, {3.613298755470622*^9, 3.6132987920834703`*^9}, {
   3.613391844743494*^9, 3.61339186082878*^9}, {3.613708908033236*^9, 
   3.613708926496541*^9}, {3.613914218772769*^9, 3.6139142421383142`*^9}}],

Cell[BoxData["$Splittings"], "Input",
 CellChangeTimes->{{3.640634421453611*^9, 3.640634424847683*^9}}],

Cell["\<\
Define the tensors that will be used in the ADM splitting. Note that we \
define all quantities after the split to depend upon the Time parameter.\
\>", "Text",
 CellChangeTimes->{{3.6138062837819557`*^9, 3.613806379843555*^9}, {
  3.613807012645131*^9, 3.6138070402479973`*^9}, {3.613807438510166*^9, 
  3.613807441882868*^9}, {3.613905565276857*^9, 3.61390561885916*^9}, {
  3.617612647659552*^9, 3.61761265435499*^9}, {3.618646188584154*^9, 
  3.618646197609786*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"Lapse", "[", "]"}], ",", 
    RowBox[{"{", "Time", "}"}], ",", 
    RowBox[{"PrintAs", "\[Rule]", "\"\<N\>\""}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"Shift", "[", "i", "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"Time", ",", "MSpace"}], "}"}], ",", 
    RowBox[{"PrintAs", "\[Rule]", "\"\<N\>\""}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.611650356368246*^9, 3.6116503926143427`*^9}, {
   3.6117707557745667`*^9, 3.611770774977846*^9}, {3.611912435171678*^9, 
   3.611912439802434*^9}, 3.6127788952361107`*^9, {3.6137339071651497`*^9, 
   3.613733907588807*^9}, {3.613733963371866*^9, 3.613733963516893*^9}, {
   3.613734007450959*^9, 3.613734007923005*^9}, {3.613805851810247*^9, 
   3.613805861305729*^9}, {3.613805942383297*^9, 3.613805961118353*^9}, {
   3.613806063212317*^9, 3.613806068196332*^9}, {3.613806112619088*^9, 
   3.613806198144815*^9}, {3.6138063860538683`*^9, 3.613806462891026*^9}, {
   3.613806517339101*^9, 3.613806517850505*^9}, {3.613806772444867*^9, 
   3.6138067726969137`*^9}, {3.6138068760187607`*^9, 
   3.6138069580646143`*^9}, {3.613806995830987*^9, 3.613807003134665*^9}, {
   3.613807047883011*^9, 3.613807048214522*^9}, {3.613807504315403*^9, 
   3.613807564975893*^9}, 3.6139057764397287`*^9, 3.617612676514917*^9, 
   3.618646203006179*^9}],

Cell["\<\
Reduce the length of the output by allowing derivatives of the contravariant \
spatial metric\
\>", "Text",
 CellChangeTimes->{{3.6186460407217283`*^9, 3.61864605906032*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"AllowDerivsOfUpMetric", "[", "h", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.618646060577643*^9, 3.618646063445757*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Define SplittingRules", "Subsection",
 CellChangeTimes->{{3.61761271374148*^9, 3.617612720046236*^9}}],

Cell[TextData[{
 "Now let us define the non-trivial splitting rules of the metric ",
 StyleBox["g[]", "Input"],
 ". Since this is a metric we need to prescribe splitting rules for both it \
covariant and its contravariant components. Minus signs indicate covariant \
components."
}], "Text",
 CellChangeTimes->{{3.613807241723505*^9, 3.613807329757348*^9}, {
  3.613807429547227*^9, 3.613807483297422*^9}, {3.613808075835829*^9, 
  3.61380807660387*^9}, {3.613808608272753*^9, 3.613808748131733*^9}, {
  3.6138088222350607`*^9, 3.613808949151322*^9}, {3.6139058000062113`*^9, 
  3.6139058211333103`*^9}, {3.639890802085256*^9, 3.639890812991796*^9}, {
  3.640716469032001*^9, 3.640716502050962*^9}, {3.640716791787298*^9, 
  3.6407167991112823`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplittingRules", "[", 
   RowBox[{"ADM", ",", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", 
       RowBox[{
        RowBox[{"-", 
         SuperscriptBox[
          RowBox[{"Lapse", "[", "]"}], "2"]}], "+", 
        RowBox[{
         RowBox[{"Shift", "[", 
          RowBox[{"-", "i"}], "]"}], 
         RowBox[{"Shift", "[", "i", "]"}]}]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "i"}]}], "]"}], "\[Rule]", 
       RowBox[{"Shift", "[", 
        RowBox[{"-", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", 
       RowBox[{"Shift", "[", 
        RowBox[{"-", "i"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "j"}]}], "]"}], "\[Rule]", 
       RowBox[{"h", "[", 
        RowBox[{
         RowBox[{"-", "i"}], ",", 
         RowBox[{"-", "j"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "Time"}], "]"}], "\[Rule]", 
       RowBox[{"-", 
        SuperscriptBox[
         RowBox[{"Lapse", "[", "]"}], 
         RowBox[{"-", "2"}]]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "i"}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"Lapse", "[", "]"}], 
         RowBox[{"-", "2"}]], 
        RowBox[{"Shift", "[", "i", "]"}]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"i", ",", "Time"}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"Lapse", "[", "]"}], 
         RowBox[{"-", "2"}]], 
        RowBox[{"Shift", "[", "i", "]"}]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"i", ",", "j"}], "]"}], "\[Rule]", 
       RowBox[{
        RowBox[{"h", "[", 
         RowBox[{"i", ",", "j"}], "]"}], "-", 
        RowBox[{
         SuperscriptBox[
          RowBox[{"Lapse", "[", "]"}], 
          RowBox[{"-", "2"}]], 
         RowBox[{"Shift", "[", "i", "]"}], 
         RowBox[{"Shift", "[", "j", "]"}]}]}]}]}], "\[IndentingNewLine]", 
     "}"}]}], "]"}], ";"}]], "Input",
 CellChangeTimes->{
  3.613807050886887*^9, {3.613807261040208*^9, 3.613807265161068*^9}, {
   3.613807489180245*^9, 3.6138074909332438`*^9}, {3.613807627394459*^9, 
   3.613807681950817*^9}, {3.6138077250467377`*^9, 3.61380798155184*^9}, {
   3.613808201283993*^9, 3.613808351304895*^9}, {3.613808498640134*^9, 
   3.61380856017342*^9}, {3.613808774423984*^9, 3.6138087966859703`*^9}, {
   3.613808969370741*^9, 3.6138089735062513`*^9}, 3.61380908261521*^9, 
   3.613815794439968*^9, {3.6138171724871063`*^9, 3.613817225383152*^9}, {
   3.613817496279002*^9, 3.6138175634440517`*^9}, {3.6138176280912867`*^9, 
   3.6138176303228283`*^9}, {3.613914226545473*^9, 3.61391423942022*^9}, {
   3.6186462146341753`*^9, 3.618646216097464*^9}}],

Cell[TextData[{
 "The SplittingRules function has now defined and populated the variable ",
 StyleBox["$SplittingRules[ADM]", "Input"],
 " with these rules, in the way that they need to be applied to the \
split-tensors in the default nomenclature. If we want we can view the result \
of the SplittingRules function as follows:"
}], "Text",
 CellChangeTimes->{{3.614068912477507*^9, 3.614068974521154*^9}, {
  3.61761279795191*^9, 3.617612841839447*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$SplittingRules", "[", "ADM", "]"}], "//", "ColumnForm"}]], "Input",\

 CellChangeTimes->{{3.61406890663745*^9, 3.614068910435873*^9}, {
  3.639890828701635*^9, 3.639890831722808*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Simple ADM splits", "Subsection",
 CellChangeTimes->{{3.618645651918944*^9, 3.618645658431028*^9}}],

Cell[CellGroupData[{

Cell["Covariant metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618645715731518*^9, 3.618645716579211*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SplitExpression", "[", "ADM", "]"}], "[", 
   RowBox[{"g", "[", 
    RowBox[{
     RowBox[{"-", "\[Mu]"}], ",", 
     RowBox[{"-", "\[Nu]"}]}], "]"}], "]"}], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618645850986519*^9, 3.6186458530187397`*^9}}],

Cell["\<\
An alternative \[OpenCurlyQuote]columnform\[CloseCurlyQuote] format is \
offered by the SplitComponents function:\
\>", "Text",
 CellChangeTimes->{{3.61864579773773*^9, 3.618645800318781*^9}, {
  3.618645830485791*^9, 3.618645843318143*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "ADM", "]"}], "[", 
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"-", "\[Mu]"}], ",", 
    RowBox[{"-", "\[Nu]"}]}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.6186458068333*^9, 3.61864581819575*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Contravariant metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618584155066031*^9, 3.618584156720511*^9}, {3.6186457186610394`*^9, 
  3.618645719467976*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "ADM", "]"}], "[", 
  RowBox[{"g", "[", 
   RowBox[{"\[Mu]", ",", "\[Nu]"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618584180686389*^9, 3.618584181735499*^9}, {3.618645863301055*^9, 
  3.61864586598138*^9}, {3.618731232912917*^9, 3.618731239220299*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Mixed metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618584158929675*^9, 3.6185841603683023`*^9}, {3.618645721301691*^9, 
  3.618645722116696*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SplitExpression", "[", "ADM", "]"}], "[", 
   RowBox[{"g", "[", 
    RowBox[{"\[Mu]", ",", 
     RowBox[{"-", "\[Nu]"}]}], "]"}], "]"}], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618584184321773*^9, 3.618584185160145*^9}, {3.6186458701923227`*^9, 
  3.618645873247758*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Christoffels", "Subsubsection",
 CellChangeTimes->{{3.6185836014194098`*^9, 3.618583603307373*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "ADM", "]"}], "@", 
  RowBox[{"ChristoffelCDSpaceTime", "[", 
   RowBox[{"\[Mu]", ",", 
    RowBox[{"-", "\[Nu]"}], ",", 
    RowBox[{"-", "\[Lambda]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, 
   3.6185834883067102`*^9, {3.618583625769395*^9, 3.6185836582624073`*^9}, {
   3.6186392856293297`*^9, 3.61863929289327*^9}, {3.6186450735956593`*^9, 
   3.61864507765204*^9}, {3.6186458868103523`*^9, 3.618645893404189*^9}, {
   3.639892824261492*^9, 3.639892855879766*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Einstein tensors", "Subsubsection",
 CellChangeTimes->{{3.6185836014194098`*^9, 3.618583603307373*^9}, {
  3.6186459621787043`*^9, 3.6186459644000473`*^9}}],

Cell["\<\
The Einstein tensors involve some lengthy calculations, and so generating \
this output takes about a minute.\
\>", "Text",
 CellChangeTimes->{{3.640716590915246*^9, 3.6407166562111893`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "ADM", "]"}], "@", 
  RowBox[{"EinsteinCDSpaceTime", "[", 
   RowBox[{"\[Mu]", ",", "\[Nu]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, 
   3.6185834883067102`*^9, {3.618583625769395*^9, 3.6185836582624073`*^9}, {
   3.6186392856293297`*^9, 3.61863929289327*^9}, {3.6186450735956593`*^9, 
   3.61864507765204*^9}, {3.6186458868103523`*^9, 3.618645893404189*^9}, {
   3.618645967314443*^9, 3.618645972443326*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Ricci Scalar", "Subsubsection",
 CellChangeTimes->{{3.618645943917418*^9, 3.618645950301409*^9}, {
  3.618646122497801*^9, 3.618646125257718*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitExpression", "[", "ADM", "]"}], "[", 
  RowBox[{"RicciScalarCDSpaceTime", "[", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.6139871589548187`*^9, 3.613987172972014*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Clean-up memory", "Subsection",
 CellChangeTimes->{{3.614067526019021*^9, 3.6140675302374277`*^9}}],

Cell[BoxData["$Splittings"], "Input",
 CellChangeTimes->{{3.614067544467155*^9, 3.614067545800927*^9}}],

Cell[BoxData[
 RowBox[{"UndefSplitting", "[", "ADM", "]"}]], "Input",
 CellChangeTimes->{{3.613912815454331*^9, 3.6139128163145723`*^9}, {
  3.614067413867996*^9, 3.614067415211548*^9}, {3.6140700895548*^9, 
  3.614070090066414*^9}}],

Cell[BoxData["$Splittings"], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"UndefTensor", "[", "Lapse", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefTensor", "[", "Shift", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "h", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "Time", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "MSpace", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "MSpaceTime", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.613909090126219*^9, 3.6139091224683037`*^9}, {
   3.6139091787264833`*^9, 3.613909267480611*^9}, 3.6139100672327843`*^9, 
   3.613911220691918*^9, {3.613912802820603*^9, 3.61391289113894*^9}, {
   3.614067751401648*^9, 3.6140677542925262`*^9}, {3.6140678165734453`*^9, 
   3.614067830129294*^9}, {3.6140701032134123`*^9, 3.614070169855708*^9}, 
   3.618721005415963*^9, {3.639917044447003*^9, 3.63991704541816*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["5=3+1+1 decomposition", "Section",
 CellChangeTimes->{{3.613799059727685*^9, 3.613799063493945*^9}, {
  3.614071007912574*^9, 3.61407100933945*^9}}],

Cell[TextData[{
 "This example illustrates how multiple parameters may be used when isolating \
multiple indices. We choose to split 5-dimensional indices into 3-dimensional \
indices and two parameters. We will stick with default nomenclature here, and \
so to keep expressions as short as possible we shall call the parameters ",
 StyleBox["\[Tau]", "Input"],
 " and ",
 StyleBox["\[Omega]", "Input"],
 ", and the 3-dimensional manifold ",
 StyleBox["M3", "Input"],
 "."
}], "Text",
 CellChangeTimes->{{3.614070266628443*^9, 3.6140703303464947`*^9}, {
  3.614070461949315*^9, 3.614070508895303*^9}, {3.6399170726603537`*^9, 
  3.639917073032263*^9}, {3.640716813522732*^9, 3.6407168804726257`*^9}}],

Cell[CellGroupData[{

Cell["Define quantities", "Subsection",
 CellChangeTimes->{{3.618732406161071*^9, 3.618732409255733*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"M5", ",", "5", ",", 
    RowBox[{"{", 
     RowBox[{
     "\[Mu]", ",", "\[Nu]", ",", "\[Gamma]", ",", "\[Lambda]", ",", 
      "\[Sigma]", ",", "\[Eta]", ",", "\[Kappa]", ",", "\[Chi]"}], "}"}]}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{
    RowBox[{"-", "1"}], ",", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "\[Mu]"}], ",", 
      RowBox[{"-", "\[Nu]"}]}], "]"}], ",", "CD5", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<;\>\"", ",", "\"\<\[Del]\>\""}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"M3", ",", "3", ",", 
    RowBox[{"{", 
     RowBox[{
     "i", ",", "j", ",", "k", ",", "l", ",", "m", ",", "p", ",", "q", ",", 
      "r", ",", "s", ",", "u"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{"1", ",", 
    RowBox[{"h", "[", 
     RowBox[{
      RowBox[{"-", "i"}], ",", 
      RowBox[{"-", "j"}]}], "]"}], ",", "CD3", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<|\>\"", ",", "\"\<\[ScriptCapitalD]\>\""}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", "\[Tau]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", "\[Omega]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddTensorDependencies", "[", 
   RowBox[{
    RowBox[{"{", "h", "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"\[Tau]", ",", "\[Omega]"}], "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.613202571131688*^9, 3.613202712753284*^9}, {
  3.613202877593096*^9, 3.6132028780228987`*^9}, {3.613202974528474*^9, 
  3.61320297466222*^9}, {3.6132035049214697`*^9, 3.613203505408415*^9}, {
  3.613203548544695*^9, 3.613203610434352*^9}, {3.613799079239264*^9, 
  3.6137990811108*^9}, {3.613913409377968*^9, 3.613913412606629*^9}, {
  3.614070651964643*^9, 3.614070664125304*^9}, {3.6140706958857107`*^9, 
  3.6140706966825047`*^9}, {3.618732263499854*^9, 3.618732385082522*^9}}],

Cell[BoxData[
 RowBox[{"DefSplitting", "[", 
  RowBox[{"S", ",", 
   RowBox[{"M5", "->", 
    RowBox[{"{", 
     RowBox[{"\[Tau]", ",", "\[Omega]", ",", "M3"}], "}"}]}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.613202748341289*^9, 3.613202782046693*^9}, {
   3.613203629567285*^9, 3.613203648453843*^9}, {3.613799083462924*^9, 
   3.613799119031303*^9}, 3.6139136197545843`*^9, {3.614070342700436*^9, 
   3.614070366112081*^9}, {3.614070665789098*^9, 3.614070671368902*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"\[Phi]", "[", "]"}], ",", 
    RowBox[{"{", "M5", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"dAlembertian", "=", 
  RowBox[{
   RowBox[{"CD5", "[", 
    RowBox[{"-", "\[Mu]"}], "]"}], "@", 
   RowBox[{
    RowBox[{"CD5", "[", "\[Mu]", "]"}], "@", 
    RowBox[{"\[Phi]", "[", "]"}]}]}]}]}], "Input",
 CellChangeTimes->{{3.61320300220501*^9, 3.613203022867618*^9}, {
  3.6139132461941347`*^9, 3.6139132463077707`*^9}, {3.6140704127433357`*^9, 
  3.614070416500784*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Split the expression", "Subsection",
 CellChangeTimes->{{3.618732416599931*^9, 3.6187324221595783`*^9}}],

Cell["\<\
Now we can split this expression. No indices pertaining to \[Tau] or \[Omega] \
will remain, but derivatives with respect to these parameters will persist \
and these are notationally in the form of parametric derivatives. \
\>", "Text",
 CellChangeTimes->{{3.6140707341775*^9, 3.61407081520971*^9}, {
  3.61873243643622*^9, 3.6187324474939938`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitExpression", "[", "S", "]"}], "[", "dAlembertian", 
  "]"}]], "Input",
 CellChangeTimes->{{3.613202998338477*^9, 3.613203073873287*^9}, {
  3.6137991476692457`*^9, 3.613799158163032*^9}, {3.614070433229218*^9, 
  3.614070438103284*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Clean-up memory", "Subsection",
 CellChangeTimes->{{3.614067526019021*^9, 3.6140675302374277`*^9}}],

Cell[BoxData[
 RowBox[{"UndefSplitting", "[", "S", "]"}]], "Input",
 CellChangeTimes->{{3.613912815454331*^9, 3.6139128163145723`*^9}, {
  3.614067413867996*^9, 3.614067415211548*^9}, {3.6140708542825527`*^9, 
  3.6140708553060627`*^9}}],

Cell[BoxData["$Splittings"], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Remove", "[", "dAlembertian", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefTensor", "[", "\[Phi]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "h", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "\[Tau]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "\[Omega]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "M3", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "M5", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.613909090126219*^9, 3.6139091224683037`*^9}, {
   3.6139091787264833`*^9, 3.613909267480611*^9}, 3.6139100672327843`*^9, 
   3.613911220691918*^9, {3.613912802820603*^9, 3.61391289113894*^9}, {
   3.614067751401648*^9, 3.6140677542925262`*^9}, {3.6140678165734453`*^9, 
   3.614067830129294*^9}, {3.6140708694252863`*^9, 3.614070885365024*^9}, {
   3.6187324555458527`*^9, 3.618732457169626*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["4 = 1 + 1 + 1 + 1 decomposition", "Section",
 CellChangeTimes->{{3.618720418156454*^9, 3.618720448423294*^9}, {
  3.618732502631098*^9, 3.618732504894907*^9}}],

Cell["\<\
Often it is desirable to split expressions into individual components, such \
as the Curved FLRW metric. 
In this case all of the indices being expanded will be lost and replaced by \
parameters.\
\>", "Text",
 CellChangeTimes->{{3.614068707289847*^9, 3.614068732038991*^9}, {
  3.6176125045168*^9, 3.617612519727281*^9}, {3.618720457010339*^9, 
  3.6187204926881037`*^9}, {3.618732508401017*^9, 3.618732518418563*^9}, {
  3.6407169417762413`*^9, 3.640716981037306*^9}}],

Cell[CellGroupData[{

Cell["Define quantities", "Subsection",
 CellChangeTimes->{{3.6176125281853113`*^9, 3.6176125306736393`*^9}}],

Cell["Define SpaceTime manifold and metric", "Text",
 CellChangeTimes->{{3.613806221313787*^9, 3.613806232663164*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefManifold", "[", 
   RowBox[{"MSpaceTime", ",", "4", ",", 
    RowBox[{"{", 
     RowBox[{
     "\[Mu]", ",", "\[Nu]", ",", "\[Gamma]", ",", "\[Lambda]", ",", 
      "\[Sigma]", ",", "\[Eta]", ",", "\[Kappa]", ",", "\[Omega]", ",", 
      "\[Tau]", ",", "\[Chi]"}], "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefMetric", "[", 
   RowBox[{
    RowBox[{"-", "1"}], ",", 
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"-", "\[Mu]"}], ",", 
      RowBox[{"-", "\[Nu]"}]}], "]"}], ",", "CDSpaceTime", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<;\>\"", ",", "\"\<\[Del]\>\""}], "}"}]}], "]"}], 
  ";"}]}], "Input",
 CellGroupingRules->{GroupTogetherGrouping, 10000.},
 CellChangeTimes->{{3.610444654699123*^9, 3.610444655034525*^9}, {
   3.610444793589471*^9, 3.6104448011241407`*^9}, 3.6104463407408524`*^9, {
   3.61044652723118*^9, 3.6104465277011423`*^9}, {3.6104465588433323`*^9, 
   3.610446558991066*^9}, {3.610446957992519*^9, 3.610446958823058*^9}, {
   3.610475431752056*^9, 3.61047543514426*^9}, 3.610687084953088*^9, 
   3.610687158438498*^9, {3.6106874183250523`*^9, 3.6106874248922243`*^9}, {
   3.610691672345491*^9, 3.6106916727593403`*^9}, {3.610696446595807*^9, 
   3.610696448802209*^9}, {3.610796362625431*^9, 3.610796362809555*^9}, {
   3.610869794265049*^9, 3.610869806553191*^9}, {3.61087914868085*^9, 
   3.610879150842165*^9}, 3.61087919896632*^9, {3.610879407377129*^9, 
   3.610879410023328*^9}, {3.6108794470240383`*^9, 3.6108794552173233`*^9}, {
   3.610879503126814*^9, 3.610879541037744*^9}, {3.6108797233412237`*^9, 
   3.6108797340456257`*^9}, 3.6108797713618107`*^9, {3.610879803949979*^9, 
   3.610879821440949*^9}, {3.610880017604499*^9, 3.610880024090913*^9}, {
   3.610880196657503*^9, 3.610880197365299*^9}, 3.610880441306204*^9, {
   3.61088376219013*^9, 3.610883764043541*^9}, {3.611563097239085*^9, 
   3.6115631120658283`*^9}, {3.6115633219926157`*^9, 
   3.6115633517709713`*^9}, {3.611563383080575*^9, 3.611563401924776*^9}, {
   3.611563497745269*^9, 3.611563498405755*^9}, {3.611563762780425*^9, 
   3.6115637628941393`*^9}, {3.611564842192218*^9, 3.611564844437868*^9}, {
   3.6116420850584097`*^9, 3.61164209720807*^9}, 3.6116425101492653`*^9, {
   3.611642865151023*^9, 3.611642916846015*^9}, {3.611642954004644*^9, 
   3.6116429819604816`*^9}, {3.611643117445116*^9, 3.6116431860216093`*^9}, {
   3.611769994388571*^9, 3.611770003500546*^9}, {3.611770420245574*^9, 
   3.6117704204249907`*^9}, {3.612854730529891*^9, 3.61285476021777*^9}, {
   3.612856658249215*^9, 3.612856658525763*^9}, 3.6128568094164267`*^9, {
   3.61285684889299*^9, 3.612856851590908*^9}, {3.612856886164219*^9, 
   3.612856887422983*^9}, {3.6128569362599773`*^9, 3.612856936494462*^9}, {
   3.612856966781843*^9, 3.612856971426586*^9}, {3.612861504015131*^9, 
   3.6128615287532797`*^9}, {3.612861923356778*^9, 3.612861951706781*^9}, {
   3.612862037171875*^9, 3.612862076376874*^9}, {3.612862116272217*^9, 
   3.61286211719354*^9}, 3.612862194279748*^9, {3.612862227534793*^9, 
   3.612862228614894*^9}, {3.6128622880703983`*^9, 3.612862317589611*^9}, {
   3.612866916362679*^9, 3.612866925622261*^9}, {3.6128674227593603`*^9, 
   3.612867424580407*^9}, {3.61287682160592*^9, 3.6128768302679873`*^9}, {
   3.613294860755452*^9, 3.613294869547503*^9}, {3.613294958066904*^9, 
   3.613294958355242*^9}, {3.613296199737544*^9, 3.613296214482554*^9}, {
   3.6137088986814404`*^9, 3.6137088990811987`*^9}, {3.61380621432935*^9, 
   3.613806216968952*^9}, {3.613807349120555*^9, 3.613807372625387*^9}}],

Cell["\<\
Define spatial coordinates r, \[Theta] and \[Phi] and the parameter Time. \
\>", "Text",
 CellChangeTimes->{{3.613806239926983*^9, 3.613806254390689*^9}, {
   3.614066745415875*^9, 3.6140667461466417`*^9}, {3.6187205086042852`*^9, 
   3.61872051839832*^9}, {3.618732659065337*^9, 3.618732666787483*^9}, {
   3.6187339071924953`*^9, 3.61873391105695*^9}, 3.6187339494923363`*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"DefParameter", "[", 
   RowBox[{"Time", ",", 
    RowBox[{"PrintAs", "\[Rule]", "\"\<t\>\""}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", "r", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", "\[Theta]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefParameter", "[", "\[Phi]", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.61329575407197*^9, 3.613295765544623*^9}, {
  3.6132963031216993`*^9, 3.61329630733867*^9}, {3.613296418893894*^9, 
  3.613296460064371*^9}, {3.6132965117524137`*^9, 3.613296511976832*^9}, {
  3.61329669577199*^9, 3.6132967265386667`*^9}, {3.613297845772881*^9, 
  3.613297849781928*^9}, {3.613384029771347*^9, 3.61338406535513*^9}, {
  3.6187205266902733`*^9, 3.6187205472385*^9}, {3.618732616403102*^9, 
  3.618732655144556*^9}, {3.618733913242681*^9, 3.618733945507799*^9}}],

Cell[TextData[{
 "Define ",
 StyleBox["k", "Input"],
 " as the constant of curvature, ",
 StyleBox["a", "Input"],
 " as the scalar factor and ",
 StyleBox["H", "Input"],
 " as the Hubble parameter. "
}], "Text",
 CellChangeTimes->{{3.6187339519508963`*^9, 3.618733968574359*^9}, {
  3.6399174793961363`*^9, 3.639917479622099*^9}, {3.639917523806727*^9, 
  3.639917526439383*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"DefConstantSymbol", "[", "k", "]"}], ";"}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"a", "[", "]"}], ",", 
    RowBox[{"{", "Time", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"DefTensor", "[", 
   RowBox[{
    RowBox[{"H", "[", "]"}], ",", 
    RowBox[{"{", "Time", "}"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"a", "/:", 
   RowBox[{
    RowBox[{"ParamD", "[", "Time", "]"}], "@", 
    RowBox[{"a", "[", "]"}]}], ":=", 
   RowBox[{
    RowBox[{"a", "[", "]"}], 
    RowBox[{"H", "[", "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"a", "/:", 
   RowBox[{
    RowBox[{"ParamD", "[", 
     RowBox[{"Time", ",", "Time"}], "]"}], "@", 
    RowBox[{"a", "[", "]"}]}], ":=", 
   RowBox[{
    RowBox[{"a", "[", "]"}], 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"ParamD", "[", "Time", "]"}], "@", 
       RowBox[{"H", "[", "]"}]}], "+", 
      RowBox[{
       RowBox[{"H", "[", "]"}], "^", "2"}]}], ")"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{
  3.618733973824264*^9, {3.6187340042265873`*^9, 3.618734006081416*^9}, {
   3.618736053506507*^9, 3.618736053659004*^9}, {3.6187361602017403`*^9, 
   3.618736206075966*^9}, {3.618736296168223*^9, 3.618736341640842*^9}, {
   3.618736730164209*^9, 3.618736755312079*^9}, {3.618736900026476*^9, 
   3.618736901160716*^9}, {3.63991755951718*^9, 3.639917559780245*^9}}],

Cell[TextData[{
 "Now we have a non-trivial piece of code that zeros any terms with spatial \
derivatives acting on the scale factor. Since such code is likely to be of \
use to the user of this package, we shall explain how this works. The overall \
method if to add a rule to the parametric derivatives ParamD such that when \
it has indices ",
 StyleBox["b", "Input"],
 " and argument ",
 StyleBox["A", "Input"],
 " it is zero, but only under certain special conditions. First, one of the \
spatial parameters must be one of the derivatives present in ",
 StyleBox["b", "Input"],
 ". Second, the scale factor ",
 StyleBox["a", "Input"],
 " must be present in the argument ",
 StyleBox["A", "Input"],
 ". Lastly, the form of ",
 StyleBox["A", "Input"],
 " can only be either ",
 StyleBox["a", "Input"],
 " itself or some derivatives acting on ",
 StyleBox["a", "Input"],
 ". This last condition is made easier to implement by using the \
InverseComposition function that is defined within this package. This \
function acts on an expression which has derivatives acting on an argument \
and it outputs a list of derivatives and the argument separately."
}], "Text",
 CellChangeTimes->{{3.6399175299012613`*^9, 3.639917556584362*^9}, {
  3.640717039121635*^9, 3.6407170567396107`*^9}, {3.640717099816184*^9, 
  3.640717700922318*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ParamD", "/:", 
   RowBox[{
    RowBox[{"ParamD", "[", "b__", "]"}], "@", "A_"}], ":=", 
   RowBox[{
    RowBox[{
     RowBox[{"0", "/;", 
      RowBox[{"MemberQ", "[", 
       RowBox[{
        RowBox[{"{", "b", "}"}], ",", 
        RowBox[{"r", "|", "\[Theta]", "|", "\[Phi]"}]}], "]"}]}], "/;", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Position", "[", 
        RowBox[{
         RowBox[{"{", "A", "}"}], ",", 
         RowBox[{"a", "[", "]"}], ",", "Infinity"}], "]"}], "=!=", 
       RowBox[{"{", "}"}]}], ")"}]}], "/;", 
    RowBox[{"MatchQ", "[", 
     RowBox[{
      RowBox[{"Last", "@", 
       RowBox[{"InverseComposition", "@", "A"}]}], ",", 
      RowBox[{"a", "[", "]"}]}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{3.640717203988155*^9}],

Cell["\<\
Use DefSplitting to define Spherical as the 1+1+1+1 splitting of spacetime.\
\>", "Text",
 CellChangeTimes->{{3.6138062590622168`*^9, 3.61380627356602*^9}, {
  3.618732497216982*^9, 3.618732542679512*^9}}],

Cell[BoxData[
 RowBox[{"DefSplitting", "[", 
  RowBox[{"Spherical", ",", 
   RowBox[{"MSpaceTime", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"Time", ",", "r", ",", "\[Theta]", ",", "\[Phi]"}], "}"}]}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.6128547988026648`*^9, 3.612854801085103*^9}, {
   3.612855099583138*^9, 3.612855133321451*^9}, {3.612857052326602*^9, 
   3.6128570555191793`*^9}, {3.612857200220907*^9, 3.6128572130188217`*^9}, {
   3.6128613654130917`*^9, 3.6128613709481487`*^9}, {3.6128614039663897`*^9, 
   3.612861486609529*^9}, {3.612861544582963*^9, 3.612861622307371*^9}, {
   3.6128617015861998`*^9, 3.612861704984005*^9}, {3.612861957420877*^9, 
   3.61286199323982*^9}, 3.612862693891141*^9, 3.612867475272789*^9, {
   3.613220381818453*^9, 3.613220406554969*^9}, {3.613221673113752*^9, 
   3.6132216740814867`*^9}, {3.613283030389361*^9, 3.61328307912773*^9}, {
   3.6132831309905252`*^9, 3.613283131496312*^9}, 3.613283199458034*^9, {
   3.6132832474056597`*^9, 3.613283247924097*^9}, {3.613283354584341*^9, 
   3.613283355309341*^9}, {3.6132836282402353`*^9, 3.6132836283302507`*^9}, {
   3.61328366809881*^9, 3.613283695886343*^9}, 3.6132838407074547`*^9, {
   3.613284015217249*^9, 3.6132840161187477`*^9}, {3.613295197416786*^9, 
   3.613295219776362*^9}, {3.613295276986973*^9, 3.613295291435515*^9}, {
   3.613295834766409*^9, 3.613295838087079*^9}, {3.6132963849357357`*^9, 
   3.613296412782099*^9}, {3.613297945825329*^9, 3.613297998045918*^9}, {
   3.613298043498917*^9, 3.613298045187788*^9}, {3.613298326225999*^9, 
   3.613298331242752*^9}, {3.613298755470622*^9, 3.6132987920834703`*^9}, {
   3.613391844743494*^9, 3.61339186082878*^9}, {3.613708908033236*^9, 
   3.613708926496541*^9}, {3.613914218772769*^9, 3.6139142421383142`*^9}, {
   3.618732530832822*^9, 3.6187325703434343`*^9}}],

Cell["\<\
In this case we need define no tensors as part of the decomposition.\
\>", "Text",
 CellChangeTimes->{{3.618732685896865*^9, 3.618732722556079*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Define SplittingRules", "Subsection",
 CellChangeTimes->{{3.61761271374148*^9, 3.617612720046236*^9}}],

Cell[TextData[{
 "To avoid the default nomenclature we define the splitting rules of the \
metric ",
 StyleBox["g[]", "Input"],
 ". Some interaction between xAct and the Sin and Cosec functions throws \
warnings, but these don\[CloseCurlyQuote]t affect our results. "
}], "Text",
 CellChangeTimes->{{3.613807241723505*^9, 3.613807329757348*^9}, {
  3.613807429547227*^9, 3.613807483297422*^9}, {3.613808075835829*^9, 
  3.61380807660387*^9}, {3.613808608272753*^9, 3.613808748131733*^9}, {
  3.6138088222350607`*^9, 3.613808949151322*^9}, {3.6139058000062113`*^9, 
  3.6139058211333103`*^9}, {3.639917603231736*^9, 3.6399176111596603`*^9}, {
  3.640717760312326*^9, 3.6407178715324173`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplittingRules", "[", 
   RowBox[{"Spherical", ",", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", 
       RowBox[{"-", "1"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "r"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "\[Theta]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "Time"}], ",", 
         RowBox[{"-", "\[Phi]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "r"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "r"}], ",", 
         RowBox[{"-", "r"}]}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], "2"], "/", 
        RowBox[{"(", 
         RowBox[{"1", "-", 
          RowBox[{"k", " ", 
           SuperscriptBox["r", "2"]}]}], ")"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "r"}], ",", 
         RowBox[{"-", "\[Theta]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "r"}], ",", 
         RowBox[{"-", "\[Phi]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Theta]"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Theta]"}], ",", 
         RowBox[{"-", "r"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Theta]"}], ",", 
         RowBox[{"-", "\[Theta]"}]}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], "2"], 
        SuperscriptBox["r", "2"]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Theta]"}], ",", 
         RowBox[{"-", "\[Phi]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Phi]"}], ",", 
         RowBox[{"-", "Time"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Phi]"}], ",", 
         RowBox[{"-", "r"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Phi]"}], ",", 
         RowBox[{"-", "\[Theta]"}]}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{
         RowBox[{"-", "\[Phi]"}], ",", 
         RowBox[{"-", "\[Phi]"}]}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], "2"], 
        SuperscriptBox["r", "2"], 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "2"]}]}], ",", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "Time"}], "]"}], "\[Rule]", 
       RowBox[{"-", "1"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "r"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "\[Theta]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"Time", ",", "\[Phi]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"r", ",", "Time"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"r", ",", "r"}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], 
         RowBox[{"-", "2"}]], 
        RowBox[{"(", 
         RowBox[{"1", "-", 
          RowBox[{"k", " ", 
           SuperscriptBox["r", "2"]}]}], ")"}]}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"r", ",", "\[Theta]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"r", ",", "\[Phi]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Theta]", ",", "Time"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Theta]", ",", "r"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Theta]", ",", "\[Theta]"}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], 
         RowBox[{"-", "2"}]], 
        SuperscriptBox["r", 
         RowBox[{"-", "2"}]]}]}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Theta]", ",", "\[Phi]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Phi]", ",", "Time"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Phi]", ",", "r"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Phi]", ",", "\[Theta]"}], "]"}], "\[Rule]", "0"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"g", "[", 
        RowBox[{"\[Phi]", ",", "\[Phi]"}], "]"}], "\[Rule]", 
       RowBox[{
        SuperscriptBox[
         RowBox[{"a", "[", "]"}], 
         RowBox[{"-", "2"}]], 
        SuperscriptBox["r", 
         RowBox[{"-", "2"}]], 
        SuperscriptBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], 
         RowBox[{"-", "2"}]]}]}]}], "\[IndentingNewLine]", "}"}]}], "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.613807050886887*^9, {3.613807261040208*^9, 3.613807265161068*^9}, {
   3.613807489180245*^9, 3.6138074909332438`*^9}, {3.613807627394459*^9, 
   3.613807681950817*^9}, {3.6138077250467377`*^9, 3.61380798155184*^9}, {
   3.613808201283993*^9, 3.613808351304895*^9}, {3.613808498640134*^9, 
   3.61380856017342*^9}, {3.613808774423984*^9, 3.6138087966859703`*^9}, {
   3.613808969370741*^9, 3.6138089735062513`*^9}, 3.61380908261521*^9, 
   3.613815794439968*^9, {3.6138171724871063`*^9, 3.613817225383152*^9}, {
   3.613817496279002*^9, 3.6138175634440517`*^9}, {3.6138176280912867`*^9, 
   3.6138176303228283`*^9}, {3.613914226545473*^9, 3.61391423942022*^9}, {
   3.6186462146341753`*^9, 3.618646216097464*^9}, {3.618732731938251*^9, 
   3.6187327467180023`*^9}, {3.61873278631671*^9, 3.618732841958541*^9}, {
   3.6187329129975452`*^9, 3.618733089399499*^9}, {3.618733124947279*^9, 
   3.618733130431658*^9}, {3.618734019023568*^9, 3.618734046224618*^9}}],

Cell["Output the rules, just for completeness:", "Text",
 CellChangeTimes->{{3.6407178781570387`*^9, 3.6407178967874193`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"$SplittingRules", "[", "Spherical", "]"}], "//", 
  "ColumnForm"}]], "Input",
 CellChangeTimes->{{3.61406890663745*^9, 3.614068910435873*^9}, {
  3.6187331473445883`*^9, 3.6187331569818363`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Simple splits", "Subsection",
 CellChangeTimes->{{3.618645651918944*^9, 3.618645658431028*^9}, {
  3.618733208699814*^9, 3.618733208850572*^9}}],

Cell[CellGroupData[{

Cell["Covariant metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618645715731518*^9, 3.618645716579211*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SplitExpression", "[", "Spherical", "]"}], "[", 
   RowBox[{"g", "[", 
    RowBox[{
     RowBox[{"-", "\[Mu]"}], ",", 
     RowBox[{"-", "\[Nu]"}]}], "]"}], "]"}], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618645850986519*^9, 3.6186458530187397`*^9}, {3.618733213668892*^9, 
  3.618733215139037*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Contravariant metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618584155066031*^9, 3.618584156720511*^9}, {3.6186457186610394`*^9, 
  3.618645719467976*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SplitExpression", "[", "Spherical", "]"}], "[", 
   RowBox[{"g", "[", 
    RowBox[{"\[Mu]", ",", "\[Nu]"}], "]"}], "]"}], "//", 
  "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618584180686389*^9, 3.618584181735499*^9}, {3.618645863301055*^9, 
  3.61864586598138*^9}, {3.6187332370743628`*^9, 3.618733237948167*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Mixed metric", "Subsubsection",
 CellChangeTimes->{{3.618583462928462*^9, 3.618583463887055*^9}, {
  3.618584158929675*^9, 3.6185841603683023`*^9}, {3.618645721301691*^9, 
  3.618645722116696*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SplitExpression", "[", "Spherical", "]"}], "[", 
   RowBox[{"g", "[", 
    RowBox[{"\[Mu]", ",", 
     RowBox[{"-", "\[Nu]"}]}], "]"}], "]"}], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, {
  3.618584184321773*^9, 3.618584185160145*^9}, {3.6186458701923227`*^9, 
  3.618645873247758*^9}, {3.618733244196865*^9, 3.6187332563676863`*^9}, {
  3.618733767397318*^9, 3.618733769474044*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Christoffels", "Subsubsection",
 CellChangeTimes->{{3.6185836014194098`*^9, 3.618583603307373*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "Spherical", "]"}], "@", 
  RowBox[{"ChristoffelCDSpaceTime", "[", 
   RowBox[{"\[Mu]", ",", 
    RowBox[{"-", "\[Nu]"}], ",", 
    RowBox[{"-", "\[Lambda]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, 
   3.6185834883067102`*^9, {3.618583625769395*^9, 3.6185836582624073`*^9}, {
   3.6186392856293297`*^9, 3.61863929289327*^9}, {3.6186450735956593`*^9, 
   3.61864507765204*^9}, {3.6186458868103523`*^9, 3.618645893404189*^9}, {
   3.6187332700508204`*^9, 3.618733270940823*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Ricci tensors", "Subsubsection",
 CellChangeTimes->{{3.6185836014194098`*^9, 3.618583603307373*^9}, {
  3.6186459621787043`*^9, 3.6186459644000473`*^9}, {3.618735333088806*^9, 
  3.618735333663033*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitComponents", "[", "Spherical", "]"}], "@", 
  RowBox[{"RicciCDSpaceTime", "[", 
   RowBox[{
    RowBox[{"-", "\[Mu]"}], ",", 
    RowBox[{"-", "\[Nu]"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.618583422091981*^9, 3.618583452143958*^9}, 
   3.6185834883067102`*^9, {3.618583625769395*^9, 3.6185836582624073`*^9}, {
   3.6186392856293297`*^9, 3.61863929289327*^9}, {3.6186450735956593`*^9, 
   3.61864507765204*^9}, {3.6186458868103523`*^9, 3.618645893404189*^9}, {
   3.618645967314443*^9, 3.618645972443326*^9}, {3.6187337867375174`*^9, 
   3.618733787581406*^9}, {3.618734182182725*^9, 3.618734182734043*^9}, {
   3.618735381004197*^9, 3.6187353815067053`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Ricci Scalar", "Subsubsection",
 CellChangeTimes->{{3.618645943917418*^9, 3.618645950301409*^9}, {
  3.618646122497801*^9, 3.618646125257718*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SplitExpression", "[", "Spherical", "]"}], "[", 
  RowBox[{"RicciScalarCDSpaceTime", "[", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.6139871589548187`*^9, 3.613987172972014*^9}, {
  3.6187337989546127`*^9, 3.618733799862955*^9}, {3.618734141813774*^9, 
  3.618734144308765*^9}, {3.618737050711938*^9, 3.618737050910263*^9}}]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Clean-up memory", "Subsection",
 CellChangeTimes->{{3.614067526019021*^9, 3.6140675302374277`*^9}}],

Cell[BoxData["$Splittings"], "Input",
 CellChangeTimes->{{3.614067544467155*^9, 3.614067545800927*^9}}],

Cell[BoxData[
 RowBox[{"UndefSplitting", "[", "Spherical", "]"}]], "Input",
 CellChangeTimes->{{3.613912815454331*^9, 3.6139128163145723`*^9}, {
  3.614067413867996*^9, 3.614067415211548*^9}, {3.6140700895548*^9, 
  3.614070090066414*^9}, {3.639917860056575*^9, 3.639917862224131*^9}}],

Cell[BoxData["$Splittings"], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"UndefConstantSymbol", "[", "k", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefTensor", "[", "a", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefTensor", "[", "H", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefMetric", "[", "g", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefManifold", "[", "MSpaceTime", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.613909090126219*^9, 3.6139091224683037`*^9}, {
   3.6139091787264833`*^9, 3.613909267480611*^9}, 3.6139100672327843`*^9, 
   3.613911220691918*^9, {3.613912802820603*^9, 3.61391289113894*^9}, {
   3.614067751401648*^9, 3.6140677542925262`*^9}, {3.6140678165734453`*^9, 
   3.614067830129294*^9}, {3.6140701032134123`*^9, 3.614070169855708*^9}, {
   3.639917821738064*^9, 3.639917833713504*^9}, {3.6399178712932*^9, 
   3.639917883925885*^9}, {3.639918082273844*^9, 3.639918092184433*^9}, {
   3.6399181419420967`*^9, 3.639918150973864*^9}, {3.6399182730646*^9, 
   3.639918273385503*^9}, {3.639918344800827*^9, 3.639918345076922*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"UndefParameter", "[", "\[Phi]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "\[Theta]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "r", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"UndefParameter", "[", "Time", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.6399180971933117`*^9, 3.6399180998133163`*^9}}]
}, Closed]]
}, Closed]]
}, Open  ]]
},
WindowSize->{1405, 1035},
WindowMargins->{{Automatic, 60}, {Automatic, 34}},
ShowSelection->True,
Magnification:>1.25 Inherited,
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (December 4, \
2014)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[StyleDefinitions -> "Default.nb"]], 
   Cell[
    StyleData[StyleDefinitions -> "Default.nb"]], 
   Cell[
    StyleData["Title"], TextAlignment -> Center, FontFamily -> "Palatino", 
    FontSize -> 44, FontWeight -> "Plain", FontSlant -> "Plain", FontColor -> 
    GrayLevel[0]], 
   Cell[
    StyleData["Section"], CellDingbat -> None, ShowGroupOpener -> True, 
    FontFamily -> "Palatino", FontSize -> 16, FontWeight -> "Plain", 
    FontSlant -> "Plain", FontColor -> GrayLevel[0]], 
   Cell[
    StyleData["Text"], TextAlignment -> Left, FontFamily -> "Palatino", 
    FontSize -> 12, FontWeight -> "Plain", FontSlant -> "Plain"], 
   Cell[
    StyleData["Subsection"], ShowGroupOpener -> True, FontFamily -> 
    "Palatino Italic", FontSize -> 14, FontWeight -> "Plain", FontSlant -> 
    "Plain", FontColor -> GrayLevel[0]], 
   Cell[
    StyleData["Code"], FontSize -> 12], 
   Cell[
    StyleData["Subtitle"], FontFamily -> "Palatino", FontSize -> 30, 
    FontWeight -> "Plain", FontSlant -> "Plain", FontColor -> GrayLevel[0]], 
   Cell[
    StyleData["Subsubsection"], ShowGroupOpener -> True, FontFamily -> 
    "Palatino Bold", FontSize -> 14, FontWeight -> "Plain", FontSlant -> 
    "Plain", FontColor -> RGBColor[0.6, 0.4, 0.2]], 
   Cell[
    StyleData["Item"], FontFamily -> "Palatino", FontSize -> 12, FontWeight -> 
    "Plain", FontSlant -> "Plain"], 
   Cell[
    StyleData["Input"], FontSize -> 12]}, Visible -> False, FrontEndVersion -> 
  "10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (December 4, 2014)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 107, 1, 112, "Title"],
Cell[689, 25, 444, 8, 79, "Text"],
Cell[1136, 35, 1043, 15, 34, "Input"],
Cell[2182, 52, 468, 8, 35, "Text"],
Cell[CellGroupData[{
Cell[2675, 64, 112, 1, 61, "Section"],
Cell[2790, 67, 558, 9, 43, "Text"],
Cell[CellGroupData[{
Cell[3373, 80, 141, 1, 57, "Subsection"],
Cell[3517, 83, 119, 1, 42, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[3685, 90, 281, 4, 43, "Section"],
Cell[3969, 96, 287, 5, 71, "Text"],
Cell[CellGroupData[{
Cell[4281, 105, 109, 1, 57, "Subsection"],
Cell[4393, 108, 961, 25, 71, "Text"],
Cell[5357, 135, 2179, 57, 162, "Input"],
Cell[7539, 194, 212, 4, 43, "Text"],
Cell[7754, 200, 442, 9, 42, "Input"],
Cell[8199, 211, 272, 5, 43, "Text"],
Cell[8474, 218, 752, 17, 67, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[9263, 240, 105, 1, 43, "Subsection"],
Cell[9371, 243, 557, 10, 71, "Text"],
Cell[9931, 255, 518, 9, 42, "Input"],
Cell[10452, 266, 1005, 21, 103, "Text"],
Cell[11460, 289, 1039, 24, 86, "Input"],
Cell[12502, 315, 721, 16, 73, "Text"],
Cell[13226, 333, 703, 12, 71, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[13966, 350, 108, 1, 43, "Subsection"],
Cell[14077, 353, 1129, 21, 126, "Text"],
Cell[15209, 376, 2614, 67, 351, "Input"],
Cell[17826, 445, 420, 9, 88, "Text"],
Cell[18249, 456, 228, 5, 52, "Input"],
Cell[18480, 463, 502, 9, 88, "Text"],
Cell[18985, 474, 214, 4, 53, "Text"],
Cell[19202, 480, 317, 6, 52, "Input"],
Cell[19522, 488, 368, 7, 53, "Text"],
Cell[19893, 497, 435, 7, 88, "Text"],
Cell[20331, 506, 186, 4, 52, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[20554, 515, 105, 1, 43, "Subsection"],
Cell[20662, 518, 152, 3, 43, "Text"],
Cell[20817, 523, 103, 1, 42, "Input"],
Cell[20923, 526, 118, 1, 43, "Text"],
Cell[21044, 529, 194, 3, 42, "Input"],
Cell[21241, 534, 128, 1, 43, "Text"],
Cell[21372, 537, 37, 0, 42, "Input"],
Cell[21412, 539, 226, 5, 43, "Text"],
Cell[21641, 546, 1204, 26, 233, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[22894, 578, 206, 3, 43, "Section"],
Cell[23103, 583, 601, 10, 71, "Text"],
Cell[CellGroupData[{
Cell[23729, 597, 109, 1, 57, "Subsection"],
Cell[23841, 600, 118, 1, 43, "Text"],
Cell[23962, 603, 3583, 59, 67, "Input",
 CellGroupingRules->{GroupTogetherGrouping, 10000.}],
Cell[27548, 664, 241, 3, 43, "Text"],
Cell[27792, 669, 1096, 26, 91, "Input"],
Cell[28891, 697, 371, 7, 43, "Text"],
Cell[29265, 706, 261, 7, 42, "Input"],
Cell[29529, 715, 156, 3, 43, "Text"],
Cell[29688, 720, 1740, 26, 42, "Input"],
Cell[31431, 748, 103, 1, 42, "Input"],
Cell[31537, 751, 480, 8, 43, "Text"],
Cell[32020, 761, 1434, 28, 67, "Input"],
Cell[33457, 791, 184, 4, 43, "Text"],
Cell[33644, 797, 158, 3, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[33839, 805, 108, 1, 43, "Subsection"],
Cell[33950, 808, 750, 13, 71, "Text"],
Cell[34703, 823, 3369, 89, 318, "Input"],
Cell[38075, 914, 454, 8, 71, "Text"],
Cell[38532, 924, 219, 5, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[38788, 934, 105, 1, 43, "Subsection"],
Cell[CellGroupData[{
Cell[38918, 939, 156, 2, 45, "Subsubsection"],
Cell[39077, 943, 353, 9, 42, "Input"],
Cell[39433, 954, 251, 5, 43, "Text"],
Cell[39687, 961, 261, 7, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[39985, 973, 211, 3, 33, "Subsubsection"],
Cell[40199, 978, 367, 7, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[40603, 990, 203, 3, 33, "Subsubsection"],
Cell[40809, 995, 381, 9, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[41227, 1009, 105, 1, 33, "Subsubsection"],
Cell[41335, 1012, 574, 11, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[41946, 1028, 162, 2, 33, "Subsubsection"],
Cell[42111, 1032, 201, 4, 43, "Text"],
Cell[42315, 1038, 513, 9, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[42865, 1052, 152, 2, 33, "Subsubsection"],
Cell[43020, 1056, 210, 4, 42, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[43279, 1066, 105, 1, 43, "Subsection"],
Cell[43387, 1069, 103, 1, 42, "Input"],
Cell[43493, 1072, 233, 4, 42, "Input"],
Cell[43729, 1078, 37, 0, 42, "Input"],
Cell[43769, 1080, 1055, 21, 186, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[44873, 1107, 154, 2, 43, "Section"],
Cell[45030, 1111, 700, 14, 71, "Text"],
Cell[CellGroupData[{
Cell[45755, 1129, 105, 1, 57, "Subsection"],
Cell[45863, 1132, 2093, 55, 186, "Input"],
Cell[47959, 1189, 477, 10, 42, "Input"],
Cell[48439, 1201, 560, 15, 67, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[49036, 1221, 110, 1, 43, "Subsection"],
Cell[49149, 1224, 360, 6, 71, "Text"],
Cell[49512, 1232, 276, 6, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[49825, 1243, 105, 1, 43, "Subsection"],
Cell[49933, 1246, 237, 4, 42, "Input"],
Cell[50173, 1252, 37, 0, 42, "Input"],
Cell[50213, 1254, 1128, 25, 210, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[51390, 1285, 165, 2, 43, "Section"],
Cell[51558, 1289, 480, 9, 71, "Text"],
Cell[CellGroupData[{
Cell[52063, 1302, 109, 1, 57, "Subsection"],
Cell[52175, 1305, 118, 1, 43, "Text"],
Cell[52296, 1308, 3583, 59, 67, "Input",
 CellGroupingRules->{GroupTogetherGrouping, 10000.}],
Cell[55882, 1369, 388, 6, 43, "Text"],
Cell[56273, 1377, 927, 19, 115, "Input"],
Cell[57203, 1398, 379, 11, 43, "Text"],
Cell[57585, 1411, 1475, 43, 138, "Input"],
Cell[59063, 1456, 1335, 29, 152, "Text"],
Cell[60401, 1487, 799, 24, 45, "Input"],
Cell[61203, 1513, 215, 4, 43, "Text"],
Cell[61421, 1519, 1828, 28, 42, "Input"],
Cell[63252, 1549, 158, 3, 43, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[63447, 1557, 108, 1, 43, "Subsection"],
Cell[63558, 1560, 691, 12, 71, "Text"],
Cell[64252, 1574, 7727, 217, 901, "Input"],
Cell[71982, 1793, 126, 1, 43, "Text"],
Cell[72111, 1796, 230, 5, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[72378, 1806, 150, 2, 43, "Subsection"],
Cell[CellGroupData[{
Cell[72553, 1812, 156, 2, 45, "Subsubsection"],
Cell[72712, 1816, 408, 10, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[73157, 1831, 211, 3, 33, "Subsubsection"],
Cell[73371, 1836, 414, 9, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[73822, 1850, 203, 3, 33, "Subsubsection"],
Cell[74028, 1855, 484, 10, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[74549, 1870, 105, 1, 33, "Subsubsection"],
Cell[74657, 1873, 582, 11, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[75276, 1889, 208, 3, 33, "Subsubsection"],
Cell[75487, 1894, 706, 13, 42, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[76230, 1912, 152, 2, 33, "Subsubsection"],
Cell[76385, 1916, 362, 6, 42, "Input"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[76796, 1928, 105, 1, 43, "Subsection"],
Cell[76904, 1931, 103, 1, 42, "Input"],
Cell[77010, 1934, 285, 4, 42, "Input"],
Cell[77298, 1940, 37, 0, 42, "Input"],
Cell[77338, 1942, 1095, 20, 138, "Input"],
Cell[78436, 1964, 436, 11, 115, "Input"]
}, Closed]]
}, Closed]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
